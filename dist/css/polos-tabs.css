/* 
 * POLOS TABS v1.0 - Dual Mode (Pure CSS + JS Enhanced)
 * Mode 1: Pure CSS with :target (no JS required)
 * Mode 2: JS Enhanced with active class (better UX)
 */

/* ============ BASE VARIABLES ============ */
.polos-tabs {
    --polos-tab-border-width: 1px;
    --polos-tab-radius: 0.25rem;
    --polos-tab-transition: 0.15s ease-in-out;
    --polos-tab-btn-px: 1rem;
    --polos-tab-btn-py: 0.5rem;
    --polos-tab-panel-p: 1rem;
    --polos-tab-gap: 0.125rem;
    
    margin-bottom: 1rem;
    position: relative;
}

/* ============ NAVIGATION ============ */
.polos-tabs__nav {
    display: flex;
    list-style: none;
    padding: 0;
    margin: 0;
    position: relative;
    flex-wrap: wrap;
    gap: var(--polos-tab-gap);
}

.polos-tabs__item {
    margin: 0;
}

.polos-tabs__btn {
    /* Reset button styles */
    all: unset;
    
    /* Basic structure */
    display: block;
    cursor: pointer;
    text-decoration: none;
    font-family: inherit;
    font-size: inherit;
    white-space: nowrap;
    text-align: center;
    
    /* Minimal spacing */
    padding: var(--polos-tab-btn-py) var(--polos-tab-btn-px);
    
    /* Border structure only */
    border: var(--polos-tab-border-width) solid transparent;
    border-radius: var(--polos-tab-radius) var(--polos-tab-radius) 0 0;
    
    /* Interaction */
    transition: border-color var(--polos-tab-transition);
    
    /* Allow custom styling */
    background: transparent;
    color: inherit;
}

/* ============ DUAL MODE SUPPORT ============ */

/* MODE 1: PURE CSS (using :target) - Default fallback */
.polos-tabs__panel {
    display: none;
    padding: var(--polos-tab-panel-p);
}

/* Default: show first panel */
.polos-tabs__area > .polos-tabs__panel:first-of-type {
    display: block;
}

/* When panel is targeted via URL hash */
.polos-tabs__panel:target {
    display: block !important;
}

/* Hide other panels when one is targeted */
.polos-tabs__panel:target ~ .polos-tabs__panel {
    display: none;
}

/* Style for active tab in pure CSS mode (tricky but possible) */
.polos-tabs__btn[href]:target,
.polos-tabs__area:has(.polos-tabs__panel:target) 
    ~ .polos-tabs__nav .polos-tabs__btn[href]:not(:target) {
    /* This will style the active tab in pure CSS mode */
    border-bottom-color: transparent;
    position: relative;
    z-index: 1;
}

/* MODE 2: JS ENHANCED (using .active class) - Better UX */
/* When JS is loaded, it will add .active classes */
.polos-tabs__btn.active {
    border-bottom-color: transparent;
    position: relative;
    z-index: 1;
}

.polos-tabs__panel.active {
    display: block;
}

/* JS mode overrides pure CSS mode */
.polos-tabs__panel.active ~ .polos-tabs__panel:target {
    display: none !important;
}

/* ============ CONTENT AREA ============ */
.polos-tabs__area {
    border: var(--polos-tab-border-width) solid transparent;
    border-radius: 0 var(--polos-tab-radius) var(--polos-tab-radius) var(--polos-tab-radius);
    overflow: hidden;
    margin-top: -1px;
}

/* ============ LAYOUT VARIANTS ============ */
/* Cards variant */
.polos-tabs--cards .polos-tabs__area {
    border-radius: var(--polos-tab-radius);
    margin-top: 0.5rem;
}

.polos-tabs--cards .polos-tabs__btn {
    border-radius: var(--polos-tabs__radius);
}

.polos-tabs--cards .polos-tabs__btn.active,
.polos-tabs--cards .polos-tabs__btn[href]:target {
    border-bottom-color: inherit;
}

/* Clean variant */
.polos-tabs--clean .polos-tabs__area {
    border: none;
    border-radius: 0;
}

.polos-tabs--clean .polos-tabs__btn {
    border: none;
    border-bottom: var(--polos-tab-border-width) solid transparent;
    border-radius: 0;
}

/* Vertical tabs */
.polos-tabs--vertical {
    display: flex;
}

.polos-tabs--vertical .polos-tabs__nav {
    flex-direction: column;
    width: 12rem;
    margin-right: 1rem;
}

.polos-tabs--vertical .polos-tabs__btn {
    border-radius: var(--polos-tab-radius) 0 0 var(--polos-tab-radius);
    border-right: none;
    text-align: left;
}

.polos-tabs--vertical .polos-tabs__area {
    flex: 1;
    border-radius: 0 var(--polos-tab-radius) var(--polos-tab-radius) var(--polos-tab-radius);
    margin-top: 0;
}

/* ============ RESPONSIVE ============ */
@media (max-width: 768px) {
    .polos-tabs__nav {
        overflow-x: auto;
        flex-wrap: nowrap;
        -webkit-overflow-scrolling: touch;
    }
    
    .polos-tabs--vertical {
        flex-direction: column;
    }
    
    .polos-tabs--vertical .polos-tabs__nav {
        width: 100%;
        margin-right: 0;
        margin-bottom: 0.5rem;
        flex-direction: row;
        overflow-x: auto;
    }
    
    .polos-tabs--vertical .polos-tabs__btn {
        border-radius: var(--polos-tab-radius);
        border-right: var(--polos-tab-border-width) solid transparent;
        text-align: center;
    }
}

/* ============ UTILITY CLASSES ============ */
/* Size utilities */
.polos-tabs--sm {
    --polos-tab-btn-px: 0.75rem;
    --polos-tab-btn-py: 0.375rem;
    --polos-tab-panel-p: 0.75rem;
}

.polos-tabs--lg {
    --polos-tab-btn-px: 1.5rem;
    --polos-tab-btn-py: 0.75rem;
    --polos-tab-panel-p: 1.5rem;
}

/* Border utilities */
.polos-tabs--border { --polos-tab-border-width: 1px; }
.polos-tabs--border-2 { --polos-tab-border-width: 2px; }
.polos-tabs--borderless { --polos-tab-border-width: 0; }

/* Radius utilities */
.polos-tabs--rounded { --polos-tab-radius: 0.375rem; }
.polos-tabs--rounded-lg { --polos-tab-radius: 0.5rem; }
.polos-tabs--rounded-none { --polos-tab-radius: 0; }
